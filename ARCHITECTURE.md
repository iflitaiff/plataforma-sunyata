# Arquitetura da Plataforma Sunyata

## Vis√£o Geral

Plataforma educacional/profissional para integra√ß√£o de IA (Claude API) em diferentes verticais (Jur√≠dico, Doc√™ncia, Pesquisa, IFRJ), com sistema de console interativa para conversas contextualizadas usando ferramentas tipo "Canvas".

---

## Stack Tecnol√≥gico

### Backend
- **Linguagem:** PHP 8.2+
- **Framework:** Vanilla PHP com PSR-4 autoloading (Composer)
- **Banco de Dados:** MySQL/MariaDB
- **Autentica√ß√£o:** Google OAuth 2.0
- **AI Provider:** Anthropic Claude API (Messages API)

### Frontend
- **UI Framework:** Bootstrap 5
- **JavaScript:** Vanilla JS (sem frameworks pesados)
- **Icons:** Bootstrap Icons
- **PDF Viewer:** PDF.js (planejado)

### Bibliotecas PHP
- `smalot/pdfparser` - Extra√ß√£o de texto de PDFs
- `phpoffice/phpword` - Processamento de DOCX
- `mpdf/mpdf` - Gera√ß√£o de PDFs para export

### Infraestrutura
- **Servidor:** Hostinger Premium Web Hosting (sem root access)
- **Deploy:** SCP + SSH (porta 65002)
- **Storage:** Filesystem local (`/uploads/`)

---

## Arquitetura de Dados

### Tabelas Principais

#### **users**
Usu√°rios cadastrados via Google OAuth.
- `id`, `email`, `name`, `picture`, `google_id`
- `access_level` (guest, user, admin)
- `selected_vertical` (juridico, docencia, pesquisa, ifrj_alunos)

#### **vertical_access_requests**
Solicita√ß√µes de acesso √†s verticais (algumas requerem aprova√ß√£o admin).
- `user_id`, `vertical`, `status` (pending, approved, rejected)

#### **settings**
Sistema de configura√ß√£o din√¢mica (ex: `juridico_requires_approval`).
- Gerenciado via `src/Core/Settings.php` (singleton)

#### **prompt_history**
Hist√≥rico de prompts enviados para Claude (transparente ao usu√°rio).
- `user_id`, `vertical`, `tool_name`, `input_data`, `generated_prompt`, `claude_response`
- Tokens, custo, status

#### **conversations** (NOVO - MVP)
Conversas interativas na Console.
- `user_id`, `vertical`, `tool_name` (ex: canvas_juridico)
- `title`, `status` (active, completed, archived)

#### **conversation_messages** (NOVO - MVP)
Mensagens individuais de cada conversa.
- `conversation_id`, `role` (user, assistant)
- `content`, `message_type` (question, answer, final_response)
- `tokens_input`, `tokens_output`, `cost_usd`

#### **user_files** (NOVO - MVP)
Biblioteca pessoal de documentos do usu√°rio.
- `user_id`, `original_filename`, `stored_filename`, `file_path`
- `mime_type`, `file_size`, `file_hash` (SHA256 para deduplica√ß√£o)
- `extracted_text`, `tokens_estimated`, `page_count`

#### **conversation_files** (NOVO - MVP)
V√≠nculo many-to-many entre conversas e arquivos.
- `conversation_id`, `file_id`

---

## M√≥dulos Implementados

### 1. Sistema de Verticais
**Arquivo:** `src/Core/VerticalManager.php`
- Gerenciamento centralizado de verticais (config em `config/verticals.php`)
- L√≥gica de aprova√ß√£o din√¢mica baseada em Settings
- Valida√ß√£o de acesso

### 2. Autentica√ß√£o OAuth
**Arquivos:** `public/login.php`, `public/oauth-callback.php`
- Login via Google OAuth 2.0
- Gest√£o de sess√µes (`SESSION_NAME` customizado)
- CSRF protection (`csrf_token()` helper)

### 3. Onboarding
**Arquivos:** `public/onboarding-step1.php`, `public/onboarding-step2.php`
- Coleta de dados do perfil
- Sele√ß√£o de vertical
- Submiss√£o de solicita√ß√£o de acesso (com aprova√ß√£o se necess√°rio)

### 4. Admin Dashboard
**Arquivos:** `public/admin/index.php`, `public/admin/users.php`
- Gest√£o de configura√ß√µes (toggle settings)
- Gerenciamento de usu√°rios
- Aprova√ß√£o de solicita√ß√µes de acesso
- Dele√ß√£o segura de usu√°rios (LGPD compliant)

### 5. Sistema de Settings Din√¢mico
**Arquivo:** `src/Core/Settings.php`
- Singleton com cache em mem√≥ria
- M√©todos: `get()`, `set()`, `toggle()`
- Usado para configura√ß√µes de aprova√ß√£o, limites, etc.

### 6. Integra√ß√£o Claude API
**Arquivo:** `src/AI/ClaudeService.php`
- Chamadas HTTP via cURL para Anthropic Messages API
- Salvamento autom√°tico em `prompt_history`
- C√°lculo de custo e tokens
- Modelo padr√£o: `claude-3-5-sonnet-20241022`

### 7. Canvas Jur√≠dico (Ferramenta Inicial)
**Arquivos:** `public/areas/juridico/canvas-juridico.php`, `public/ferramentas/canvas-juridico.html`
- Formul√°rio interativo com 6 campos (Tarefa, Contexto, Materiais, etc.)
- Gera√ß√£o de prompt estruturado
- Chamada para `/api/generate-juridico.php`
- Exibi√ß√£o de resposta do Claude

### 8. Dele√ß√£o de Conta (LGPD)
**Arquivos:** `public/delete-account.php`, `src/Services/UserDeletionService.php`
- Auto-dele√ß√£o com confirma√ß√£o dupla
- Dele√ß√£o at√¥mica via transa√ß√µes
- Anonimiza√ß√£o de logs de auditoria
- P√°gina de confirma√ß√£o p√≥s-dele√ß√£o

---

## M√≥dulos Planejados (MVP Console)

### 1. Console Interativa
**Arquivo:** `public/areas/juridico/console.php` (NOVO)

**Funcionalidades:**
- **Sidebar:**
  - üìÇ Biblioteca de Arquivos (user_files)
  - üí¨ Lista de Conversas (conversations)
  - ‚ûï Bot√£o Nova Conversa

- **√Årea Principal:**
  - Chat interativo (estilo WhatsApp)
  - Upload de arquivos (in√≠cio da conversa)
  - Visualiza√ß√£o de arquivos anexados
  - Indicador de tipo de mensagem (pergunta vs resposta final)

- **Fluxo:**
  1. Usu√°rio inicia conversa via Canvas (preenche formul√°rio)
  2. Sistema cria `conversation` + anexa arquivos da biblioteca
  3. Claude faz perguntas de contexto (m√°x 5, com marcadores `[PERGUNTA-N]`)
  4. Usu√°rio responde ou clica "‚ö° Resposta Direta" (skip)
  5. Claude entrega resposta final (marcador `[RESPOSTA-FINAL]`)
  6. Conversa pode ser exportada (TXT/PDF), deletada, ou favoritada

### 2. Sistema de Upload de Arquivos
**Arquivo:** `src/Services/FileUploadService.php` (NOVO)

**Funcionalidades:**
- Upload para biblioteca pessoal
- Valida√ß√£o: tipo MIME, tamanho (10MB max), hash SHA256
- Armazenamento: `/uploads/user_{id}/`
- Limites: 5 arquivos/conversa, 100MB total/usu√°rio

**Tipos suportados:**
- ‚úÖ PDF com texto (`smalot/pdfparser`)
- ‚úÖ DOCX (`phpoffice/phpword`)
- ‚úÖ TXT (nativo)
- ‚úÖ JPG/PNG (Claude faz OCR via Messages API)
- ‚ùå PDFs escaneados (sem OCR no MVP)

### 3. Processamento de Documentos
**Arquivo:** `src/Services/DocumentProcessorService.php` (NOVO)

**Funcionalidades:**
- Extra√ß√£o de texto de PDFs/DOCX/TXT
- Contagem de p√°ginas
- Estimativa de tokens
- Valida√ß√£o (rejeitar PDFs vazios/escaneados)

### 4. Gerenciamento de Conversas
**Arquivo:** `src/Services/ConversationService.php` (NOVO)

**Funcionalidades:**
- `createConversation()` - Iniciar nova conversa
- `addMessage()` - Adicionar mensagem (user/assistant)
- `getConversationHistory()` - Buscar hist√≥rico
- `detectMessageType()` - Regex para detectar `[PERGUNTA-N]` ou `[RESPOSTA-FINAL]`
- `attachFiles()` - Vincular arquivos da biblioteca

### 5. API de Chat
**Arquivo:** `public/api/chat.php` (NOVO)

**Endpoint:** `POST /api/chat.php`

**Input:**
```json
{
  "conversation_id": 123,
  "message": "Texto do usu√°rio",
  "file_ids": [5, 7],  // Opcional
  "skip_questions": false
}
```

**Output:**
```json
{
  "success": true,
  "response": "[PERGUNTA-1] Qual o prazo do contrato?",
  "message_type": "question",
  "tokens": {"input": 1500, "output": 200},
  "cost_usd": 0.0075
}
```

**L√≥gica:**
1. Buscar hist√≥rico da conversa
2. Buscar arquivos anexados (extrair texto)
3. Montar prompt com:
   - **System:** Instru√ß√µes + marcadores + limite de perguntas
   - **Hist√≥rico:** Mensagens anteriores (contexto)
   - **Documentos:** Texto extra√≠do dos arquivos
   - **Mensagem atual**
4. Chamar `ClaudeService->generate()`
5. Detectar tipo de resposta via regex
6. Salvar em `conversation_messages`
7. Retornar JSON

### 6. Export de Conversas
**Arquivo:** `public/api/export-conversation.php` (NOVO)

**Endpoint:** `GET /api/export-conversation.php?id=123&format=txt`

**Formatos:**
- **TXT:** Plain text (simples)
- **PDF:** mPDF (layout profissional)

---

## Fluxo de Uso Completo (MVP)

### Cen√°rio: Advogado Analisando Contrato

1. **Login:**
   - Usu√°rio faz login via Google OAuth
   - Sistema cria sess√£o

2. **Onboarding (primeira vez):**
   - Usu√°rio preenche perfil
   - Seleciona vertical "Jur√≠dico"
   - Se aprova√ß√£o ativa: aguarda admin aprovar
   - Se aprova√ß√£o desativada: acesso imediato

3. **Acesso √† Console:**
   - Usu√°rio navega para `/areas/juridico/console.php`
   - V√™ sidebar com biblioteca vazia e bot√£o "Nova Conversa"

4. **Upload de Documento:**
   - Clica "üìÇ Biblioteca" ‚Üí "Upload"
   - Seleciona `contrato_locacao.pdf` (5MB, 20 p√°ginas)
   - Sistema:
     - Valida tipo e tamanho
     - Gera UUID: `a3f7b2c1-...-contrato_locacao.pdf`
     - Move para `/uploads/user_42/a3f7b2c1-...pdf`
     - Extrai texto via `smalot/pdfparser`
     - Estima tokens: ~15,000
     - Insere em `user_files`

5. **Iniciar Conversa:**
   - Clica "‚ûï Nova Conversa"
   - Abre modal "Canvas Jur√≠dico"
   - Preenche:
     - **Tarefa:** "Revisar cl√°usulas de rescis√£o"
     - **Contexto:** "Contrato comercial B2B"
     - **Materiais:** Seleciona `contrato_locacao.pdf` da biblioteca
   - Clica "Iniciar An√°lise"

6. **Sistema cria conversa:**
   - Insere em `conversations`: `{user_id: 42, tool_name: 'canvas_juridico', status: 'active'}`
   - Vincula arquivo em `conversation_files`
   - Gera prompt inicial com marcadores:

```
System:
Voc√™ √© advogado s√™nior especializado...

IMPORTANTE:
- Fa√ßa perguntas indexadas: [PERGUNTA-1], [PERGUNTA-2], etc.
- M√°ximo 5 perguntas.
- Quando tiver contexto suficiente, inicie com [RESPOSTA-FINAL].

User:
Tarefa: Revisar cl√°usulas de rescis√£o
Contexto: Contrato comercial B2B

Documento anexado (contrato_locacao.pdf, 20 p√°ginas):
[texto extra√≠do do PDF...]
```

7. **Claude responde:**
```
[PERGUNTA-1] Qual √© o prazo de vig√™ncia do contrato? Isso impacta as condi√ß√µes de rescis√£o antecipada.
```

8. **Interface renderiza:**
   - Mensagem do Claude com badge "Pergunta 1/5"
   - Campo de input + bot√£o "Enviar"
   - Bot√£o "‚ö° Pular e Gerar Resposta Direta"

9. **Usu√°rio responde:**
```
30 meses
```

10. **Claude faz mais perguntas:**
```
[PERGUNTA-2] H√° multa por rescis√£o antecipada prevista no contrato? Se sim, qual percentual?
```

11. **Usu√°rio responde:**
```
Sim, cl√°usula 8.3 prev√™ 20% do valor residual
```

12. **Claude tem contexto suficiente:**
```
[RESPOSTA-FINAL]

# An√°lise Jur√≠dica - Cl√°usulas de Rescis√£o

## Sum√°rio Executivo
O contrato apresenta cl√°usulas de rescis√£o adequadas...

## Cl√°usulas Identificadas
1. Cl√°usula 8.1: Rescis√£o por justa causa...
2. Cl√°usula 8.3: Multa rescis√≥ria de 20%...

## Recomenda√ß√µes
1. Revisar proporcionalidade da multa...
...
```

13. **Interface mostra resultado final:**
   - Mensagem completa renderizada
   - Badge "‚úÖ Resposta Final"
   - Bot√µes:
     - üì• Exportar (TXT/PDF)
     - ‚úèÔ∏è Editar √∫ltima pergunta e reenviar
     - üóëÔ∏è Deletar conversa
     - ‚≠ê Favoritar

14. **Usu√°rio exporta:**
   - Clica "Exportar PDF"
   - Sistema gera via mPDF
   - Download: `conversa_123_revisao_clausulas.pdf`

---

## Decis√µes de Arquitetura

### 1. Marcadores Expl√≠citos
**Decis√£o:** Claude usa `[PERGUNTA-N]` e `[RESPOSTA-FINAL]` para sinalizar tipo de mensagem.

**Alternativas rejeitadas:**
- ‚ùå An√°lise sem√¢ntica (termina com `?`) - N√£o confi√°vel
- ‚ùå IA adicional para classificar - Gasta tokens desnecessariamente

**Vantagens:**
- ‚úÖ Simples, r√°pido, confi√°vel
- ‚úÖ Regex trivial: `/^\[PERGUNTA-\d+\]/` ou `/^\[RESPOSTA-FINAL\]/`
- ‚úÖ Zero tokens extras

### 2. Biblioteca H√≠brida
**Decis√£o:** Arquivos pertencem ao usu√°rio (biblioteca pessoal) e s√£o vinculados a conversas.

**Alternativas rejeitadas:**
- ‚ùå Arquivos vinculados apenas a conversa espec√≠fica - N√£o reutiliz√°vel
- ‚ùå Upload durante chat - Complexidade desnecess√°ria no MVP

**Vantagens:**
- ‚úÖ Reutiliza√ß√£o de documentos em m√∫ltiplas conversas
- ‚úÖ Gest√£o centralizada de arquivos
- ‚úÖ Deduplica√ß√£o via SHA256 (economiza espa√ßo)

### 3. Extra√ß√£o de Texto (n√£o PDF completo)
**Decis√£o:** Extrair texto antes de enviar para Claude.

**Alternativas rejeitadas:**
- ‚ùå Enviar PDF completo - Muito caro (~30k tokens por contrato)
- ‚ùå RAG com embeddings - Complexo demais para MVP

**Vantagens:**
- ‚úÖ Reduz custo em ~70%
- ‚úÖ Funciona no hosting sem root (bibliotecas PHP puras)
- ‚úÖ Suficiente para 90% dos casos (PDFs com texto)

### 4. Limite de 5 Perguntas
**Decis√£o:** Claude pode fazer at√© 5 perguntas de contexto.

**Justificativa:**
- Evita loops infinitos
- Controla custos (cada pergunta = ~500 tokens)
- Usu√°rio pode pular e pedir resposta direta

### 5. Edi√ß√£o Apenas da √öltima Mensagem
**Decis√£o:** MVP permite editar apenas √∫ltima mensagem do usu√°rio.

**Alternativas rejeitadas:**
- ‚ùå Edi√ß√£o de hist√≥rico completo - Complexo (reprocessar thread)

**Vantagens:**
- ‚úÖ Simples de implementar (apagar resposta Claude seguinte + reenviar)
- ‚úÖ Resolve 80% dos casos de corre√ß√£o

### 6. Sistema de Cr√©ditos em Fase 1.5
**Decis√£o:** MVP mostra uso (tokens/custo) mas n√£o bloqueia.

**Justificativa:**
- MVP foca em funcionalidade core
- Sistema de billing adiciona complexidade
- Pode ser adicionado depois sem refatora√ß√£o

---

## Limita√ß√µes Conhecidas

### Ambiente Hostinger (Premium Web Hosting)
- ‚ùå Sem root access
- ‚ùå Sem Tesseract OCR (PDFs escaneados)
- ‚ùå Sem Poppler CLI tools
- ‚úÖ PHP 8.2+, Composer, cURL, MySQL

**Mitiga√ß√£o:**
- Usar bibliotecas PHP puras
- Rejeitar PDFs escaneados (sem texto)
- Considerar VPS no futuro se necess√°rio

### Custos de API
**Claude 3.5 Sonnet:**
- Input: $3/MTok
- Output: $15/MTok

**Estimativa por conversa:**
- 5 perguntas + resposta final
- ~30k tokens input (hist√≥rico + documentos)
- ~5k tokens output (respostas)
- Custo: ~$0.15 por conversa completa

**Mitiga√ß√£o:**
- Limitar perguntas (5 max)
- Extrair texto (n√£o enviar PDFs completos)
- Prompt Caching (futura otimiza√ß√£o)

---

## Pr√≥ximas Fases (P√≥s-MVP)

### Fase 1.5: Sistema de Cr√©ditos
- Tabela `user_credits`
- Admin pode atribuir cr√©ditos
- Bloqueio quando cr√©ditos acabam
- Interface de compra/recarga

### Fase 2: RAG Avan√ßado
- Embeddings de documentos (OpenAI/Cohere)
- Vector database (Qdrant/ChromaDB)
- Enviar apenas trechos relevantes (reduz tokens 90%)

### Fase 3: Outras Verticais
- Canvas Docente (planejamento de aulas)
- Canvas Pesquisa (revis√£o de literatura)
- Ferramentas espec√≠ficas por vertical

### Fase 4: Colabora√ß√£o
- Compartilhar conversas com outros usu√°rios
- Coment√°rios em conversas
- Workspace para equipes

### Fase 5: VPS Migration (se necess√°rio)
- OCR de PDFs escaneados (Tesseract)
- Processamento de formatos complexos
- RAG self-hosted
- Maior controle de recursos

---

## Padr√µes de C√≥digo

### Estrutura de Diret√≥rios
```
plataforma-sunyata/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ config.php              # Constantes globais
‚îÇ   ‚îú‚îÄ‚îÄ secrets.php             # API keys (n√£o versionado)
‚îÇ   ‚îú‚îÄ‚îÄ verticals.php           # Config de verticais
‚îÇ   ‚îî‚îÄ‚îÄ migrations/             # SQL migrations
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ areas/                  # P√°ginas por vertical
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ juridico/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ index.php
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ console.php     # NOVO
‚îÇ   ‚îú‚îÄ‚îÄ admin/                  # Dashboard admin
‚îÇ   ‚îú‚îÄ‚îÄ api/                    # Endpoints REST
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chat.php            # NOVO
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ upload-file.php     # NOVO
‚îÇ   ‚îú‚îÄ‚îÄ ferramentas/            # HTML tools
‚îÇ   ‚îî‚îÄ‚îÄ assets/
‚îÇ       ‚îî‚îÄ‚îÄ js/
‚îÇ           ‚îî‚îÄ‚îÄ console-chat.js # NOVO
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ Core/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Database.php        # Singleton PDO
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Settings.php        # Config din√¢mico
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ VerticalManager.php
‚îÇ   ‚îú‚îÄ‚îÄ AI/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ClaudeService.php
‚îÇ   ‚îî‚îÄ‚îÄ Services/
‚îÇ       ‚îú‚îÄ‚îÄ ConversationService.php      # NOVO
‚îÇ       ‚îú‚îÄ‚îÄ FileUploadService.php        # NOVO
‚îÇ       ‚îú‚îÄ‚îÄ DocumentProcessorService.php # NOVO
‚îÇ       ‚îî‚îÄ‚îÄ UserDeletionService.php
‚îú‚îÄ‚îÄ uploads/                    # Storage local
‚îÇ   ‚îî‚îÄ‚îÄ user_{id}/
‚îî‚îÄ‚îÄ vendor/                     # Composer dependencies
```

### Conven√ß√µes
- **Namespaces:** `Sunyata\{Module}\{Class}`
- **Classes:** PascalCase, services como Singletons ou stateless
- **M√©todos p√∫blicos:** camelCase
- **Constantes:** UPPER_SNAKE_CASE
- **Banco de dados:** snake_case
- **Seguran√ßa:** Sempre usar prepared statements, `htmlspecialchars()` em outputs

### Error Handling
- Try-catch em pontos cr√≠ticos
- `error_log()` para logs
- JSON responses em APIs: `{'success': bool, 'error': string}`
- HTTP status codes apropriados

---

## Seguran√ßa

### Autentica√ß√£o
- Google OAuth 2.0 (n√£o armazenar senhas)
- Sess√µes com `session_name()` customizado
- CSRF tokens em todos os formul√°rios

### Autoriza√ß√£o
- Middleware `require_login()` em p√°ginas protegidas
- Verifica√ß√£o de `access_level` para admin
- Verifica√ß√£o de `selected_vertical` para acesso a √°reas

### Upload de Arquivos
- Valida√ß√£o MIME type server-side
- Limite de tamanho (10MB)
- SHA256 hash para deduplica√ß√£o
- Armazenamento fora de `public_html` (via symlink ou .htaccess)
- Scan de v√≠rus (futuro, se VPS)

### API Keys
- `config/secrets.php` n√£o versionado (`.gitignore`)
- Nunca expor em logs ou respostas HTTP
- Rota√ß√£o peri√≥dica

### LGPD
- Dele√ß√£o completa de dados (transacional)
- Anonimiza√ß√£o de logs de auditoria
- Termo de consentimento no onboarding
- Direito de portabilidade (export conversas)

---

## Monitoramento

### Logs
- `logs/php_errors.log` - Erros PHP
- `audit_logs` table - A√ß√µes cr√≠ticas (login, dele√ß√£o, mudan√ßa de settings)
- `prompt_history` - Todas intera√ß√µes com Claude (custo, tokens)

### M√©tricas (Admin)
- Total de usu√°rios por vertical
- Solicita√ß√µes de acesso pendentes
- Uso de API Claude (tokens, custo mensal)
- Espa√ßo em disco (uploads)

---

## Testes

### MVP - Testes Manuais
1. **Upload de arquivo:**
   - Upload PDF v√°lido ‚Üí sucesso
   - Upload arquivo >10MB ‚Üí rejei√ß√£o
   - Upload .exe ‚Üí rejei√ß√£o
   - Upload PDF escaneado (sem texto) ‚Üí rejei√ß√£o

2. **Cria√ß√£o de conversa:**
   - Preencher Canvas ‚Üí iniciar conversa
   - Ver primeira pergunta do Claude
   - Responder ‚Üí ver pr√≥xima pergunta
   - Contador de perguntas (1/5, 2/5...)

3. **Resposta direta:**
   - Clicar "‚ö° Pular" ‚Üí ver resposta final imediata
   - Verificar marcador `[RESPOSTA-FINAL]`

4. **Edi√ß√£o de mensagem:**
   - Editar √∫ltima resposta ‚Üí reenviar
   - Ver nova resposta Claude
   - Hist√≥rico atualizado

5. **Export:**
   - Exportar TXT ‚Üí verificar conte√∫do
   - Exportar PDF ‚Üí verificar formata√ß√£o

### P√≥s-MVP - Testes Automatizados
- Unit tests (PHPUnit) para Services
- Integration tests para APIs
- E2E tests (Cypress/Playwright) para UI

---

## Deploy

### Local Development
```bash
# Setup
composer install
mysql -u root -p < config/migrations/*.sql
cp config/secrets.php.example config/secrets.php
# Editar secrets.php com suas chaves

# Run
php -S localhost:8000 -t public/
```

### Produ√ß√£o (Hostinger)
```bash
# Sync c√≥digo
rsync -avz --exclude 'vendor' --exclude 'node_modules' \
  -e "ssh -p 65002" \
  ./ u202164171@82.25.72.226:/path/to/plataforma-sunyata/

# Deploy vendor
tar -czf vendor.tar.gz vendor/
scp -P 65002 vendor.tar.gz u202164171@82.25.72.226:/path/
ssh -p 65002 u202164171@82.25.72.226 "cd /path && tar -xzf vendor.tar.gz && rm vendor.tar.gz"

# Migrations
scp -P 65002 config/migrations/004_*.sql u202164171@82.25.72.226:/home/u202164171/
ssh -p 65002 u202164171@82.25.72.226 "/usr/bin/mariadb u202164171_sunyata -p < /home/u202164171/004_*.sql"

# Clear cache (se necess√°rio)
ssh -p 65002 u202164171@82.25.72.226 "cd /path && rm -rf cache/*"
```

---

## Contato

- **Desenvolvedor:** Prof. Filipe Litaiff, PhD
- **Email:** filipe.litaiff@ifrj.edu.br
- **GitHub:** https://github.com/iflitaiff/plataforma-sunyata
- **Website:** https://sunyataconsulting.com/

---

**√öltima atualiza√ß√£o:** 2025-01-21
**Vers√£o:** 1.1.0 (MVP Console em desenvolvimento)
